@{
    ViewBag.Title = "传智工作室";
    Layout = "/Views/Shared/_LayoutPage1.cshtml";
}
@using 传智Studio.Model
@section head{
    <script type="text/javascript">
        //实现详细页网页地址分配
        function ClickPage(id, year, month, day,InforMation) {
            window.open("/Html/"+InforMation+"/" + year + "/" + month + "/" + day + "/" + id + ".html");
        }
    </script>
    <style type="text/css">
        tr.change:hover {
            background-color: #e2e2e2;
        }
    </style>

}
<!--不是固定的-->
<div class="content" style="cursor:default">
    <!--右上角的下方-->
    <div class="header">
        <h1 class="page-title">欢迎进入传智工作室后台管理系统</h1>
        <ul class="breadcrumb">
            <li><a href="/Admin/Index">Home</a> </li>
            <li class="active">指示板</li>
        </ul>

    </div>
    <div class="main-content">
        <!--表格-->
        <div class="row">
            <!--公告信息-->
            <div class="col-sm-6 col-md-6">
                <div class="panel panel-default">
                    <div class="panel-heading no-collapse">最新公告</div>
                    <table class="table table-bordered table-striped">
                        <thead>
                            <tr>
                                <th>发布人</th>
                                <th>标题</th>
                                <th>发布时间</th>
                            </tr>
                        </thead>
                        <tbody>
                            @{
                                if ((int)ViewData["totalCountBulletin"] != 0)
                                {
                                    foreach (var b in (IQueryable<Bulletin>)ViewData["bulletinList"])
                                    {
                                        <tr onclick="ClickPage(@b.Id,@b.Time.Year,@b.Time.Month,@b.Time.Day,'BulletinInformation')" class="change" style="cursor:pointer">
                                            <td>@b.Name</td>
                                            <td>@b.Title</td>
                                            <td>@b.Time.ToShortDateString()</td>
                                        </tr>
                                    }
                                }
                                else
                                {
                                    <tr>
                                        <td style="padding-left:30%"><h3>哎呀,信息都被吃啦!</h3></td>
                                    </tr>
                                }
                            }
                        </tbody>
                    </table>
                </div>
            </div>
            <!--投票信息-->
            <div class="col-sm-6 col-md-6">
                <div class="panel panel-default">
                    <div class="panel-heading no-collapse">
                        最新投票
                    </div>
                    <table class="table table-bordered table-striped">
                        <thead>
                            <tr>
                                <th>发起投票人</th>
                                <th>投票标题</th>
                                <th>发布时间</th>
                            </tr>
                        </thead>
                        <tbody>
                            @{
                                if ((int)ViewData["totalCountVote"] != 0)
                                {
                                    foreach (var v in (IQueryable<Vote>)ViewData["voteList"])
                                    {
                                        <tr onclick="ClickPage(@v.Id,@v.Time.Year,@v.Time.Month,@v.Time.Day,'VoteInformation')" class="change" style="cursor:pointer">
                                            <td>@v.Name</td>
                                            <td>@v.Title</td>
                                            <td>@v.Time.ToShortDateString()</td>
                                        </tr>
                                    }
                                }
                                else
                                {
                                    <tr>
                                        <td style="padding-left:30%"><h3>哎呀,信息都被吃啦!</h3></td>
                                    </tr>
                                }
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!--表格-->
        <div class="row">
            <!--招聘信息-->
            <div class="col-sm-6 col-md-6">
                <div class="panel panel-default">
                    <div class="panel-heading no-collapse">
                        最新招聘信息
                    </div>
                    <table class="table table-bordered table-striped">
                        <thead>
                            <tr>
                                <th>招聘公司</th>
                                <th>招聘岗位</th>
                                <th>发布时间</th>
                            </tr>
                        </thead>
                        <tbody>
                            @{
                                if ((int)ViewData["totalCountRecruit"] != 0)
                                {
                                    foreach (var r in (IQueryable<Recruit>)ViewData["recruitList"])
                                    {
                                        <tr onclick="ClickPage(@r.Id,@r.Time.Year,@r.Time.Month,@r.Time.Day,'RecruitInformation')" class="change" style="cursor:pointer">
                                            <td>@r.Company</td>
                                            <td>@r.Job</td>
                                            <td>@r.Time.ToShortDateString()</td>
                                        </tr>
                                    }
                                }
                                else
                                {
                                    <tr>
                                        <td style="padding-left:30%"><h3>哎呀,信息都被吃啦!</h3></td>
                                    </tr>
                                }
                            }
                        </tbody>
                    </table>
                </div>
            </div>
            <!--项目信息-->
            <div class="col-sm-6 col-md-6">
                <div class="panel panel-default">
                    <div class="panel-heading no-collapse">
                        项目跟踪
                    </div>
                    <table class="table table-bordered table-striped">
                        <thead>
                            <tr>
                                <th>项目名称</th>
                                <th>开发进度</th>
                                <th>发布时间</th>
                            </tr>
                        </thead>
                        <tbody>
                            @{
                                if ((int)ViewData["totalCountProject"] != 0)
                                {
                                    foreach (var p in (IQueryable<Project>)ViewData["projectList"])
                                    {
                                        <tr onclick="ClickPage(@p.Id,@p.Time.Year,@p.Time.Month,@p.Time.Day,'ProjectInformation')" class="change" style="cursor:pointer">
                                            <td>@p.ProjectName</td>
                                            <td>@p.Progress</td>
                                            <td>@p.Time.ToShortDateString()</td>
                                        </tr>
                                    }
                                }
                                else
                                {
                                    <tr>
                                        <td style="padding-left:30%"><h3>哎呀,信息都被吃啦!</h3></td>
                                    </tr>
                                }
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>


